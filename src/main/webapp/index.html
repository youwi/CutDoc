<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="resources/css/resizable.css" />
		<script src="resources/js/resizable.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
		    *{margin:0;padding:0;}
			.u-resizable{
				left:40px;
				top:40px;
			}
		</style>
		<link href="resources/css/bootstrap.min.css" rel="stylesheet">
		<link href="resources/css/index.css" rel="stylesheet">

		<!--<script src="resources/js/jquery.min.js"></script>-->
		<!--<script src="resources/js/bootstrap.min.js"></script>-->



	</head>

	<body>

		<div class="u-resizable" id="u-resizable">
			<div> <!--头左边-->
				<div class="u-resizable-title" id="u-resizable-title">panel</div>
				<div style="position: absolute; right: 4px;top: 4px"><span class="glyphicon glyphicon-plus" ></span></div>
			</div>
			<div style="width:100%;height: 100%"> <!--头右边-->

			</div>

		</div>
		
		<div class="u-resizable" id="u-resizable2" style="left:400px;">
			<div class="u-resizable-title" id="u-resizable-title2">pane2</div>
			<div style="width:100%;height: 100%"> <!--头右边-->

			</div>

		</div>

		<button type="button" class="btn btn-default   " style="position: fixed; bottom: 4px;left: 4px" aria-hidden="true">
			<span class="glyphicon glyphicon-plus" ></span>

		</button>


		<script type="text/javascript">




			setInterval("autoSave()",10000);
			var els=document.getElementsByClassName("u-resizable");
			function autoSave(){
				var list = new Array();
				for(var i=0;i<els.length;i++){
					var ss=new Object();
					list[i]=ss;
					list[i].top=els[i].style.top;
					list[i].left=els[i].style.left;
					list[i].width=els[i].style.width;
					list[i].height=els[i].style.height;
					//if(list[i].innerHTML!=undefined )
					list[i].innerHTML=els[i].innerHTML;
				}
				localStorage.allpp=JSON.stringify(list);
				console.log("autoSave");
			}
			var list = JSON.parse(  localStorage.allpp);

			els=document.getElementsByClassName("u-resizable");
			for(var i=0;i<els.length;i++){
				els[i].style.top=list[i].top;
				els[i].style.left=list[i].left;
				els[i].style.width=list[i].width;
				els[i].style.height=list[i].height;
				if(list[i].innerHTML!=undefined )
				els[i].innerHTML=list[i].innerHTML;
				els[i].contentEditable=true;
			}


			var _resizable = new Resizable({
				resizable : true,
				resizableId: "u-resizable",
				drag : true,
				dragId : "u-resizable-title",
				width: 400,
				height: 200,
				minWidth: 0,
				minHeight: 30,
				maxWidth:800,
				maxHeight:600
			});

			var _resizable2 = new Resizable({
				resizable : true,
				resizableId: "u-resizable2",
				drag : true,
				dragId : "u-resizable-title2",
				width: 400,
				height: 200,
				minWidth: 100,
				minHeight: 100,
				maxWidth:800,
				maxHeight:600
			});

//			$(".u-resizable").each(function(i, value) {
//				$(this).css("left", list[i].left);
//				$(this).css("top", list[i].top);
//				$(this).css("width", list[i].width);
//				$(this).css("height", list[i].height);
//				$(this).html(list[i].html);
//			});
//			$(".u-resizable").each(function(i, value) {
//				var pp=new Object();
//				pp.left=$(this).css("left");
//				pp.top=$(this).css("top");
//				pp.width=$(this).css("width");
//				pp.height=$(this).css("height");
//				pp.html=$(this).html();
//				list[i]=pp;
//
//			});

		</script>

	</body>

</html>